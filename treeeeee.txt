import os

def generate_tree(start_path, prefix="", output_file=None):
    entries = [e for e in os.listdir(start_path) if not e.startswith('.')]
    entries_count = len(entries)

    for index, entry in enumerate(entries):
        path = os.path.join(start_path, entry)
        connector = "└── " if index == entries_count - 1 else "├── "
        line = prefix + connector + entry

        # Print to console
        print(line)

        # Write to file if provided
        if output_file:
            output_file.write(line + "\n")

        if os.path.isdir(path):
            extension = "    " if index == entries_count - 1 else "│   "
            generate_tree(path, prefix + extension, output_file)

if __name__ == "__main__":
    project_path = r"C:\Users\gaurav verma\mirelle-site"
    output_path = "project_tree.txt"  # File where the tree will be saved

    print(project_path)

    # Open a file to store the tree
    with open(output_path, "w", encoding="utf-8") as f:
        f.write(project_path + "\n")
        generate_tree(project_path, output_file=f)

    print(f"\nTree saved to {output_path}")
