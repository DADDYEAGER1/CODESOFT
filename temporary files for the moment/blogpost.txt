[
  {
    "path": "src/components/Blog/BlogPost.tsx",
    "content": "import Image from 'next/image';\nimport Link from 'next/link';\nimport { BlogPost as BlogPostType } from '@/types/blog';\nimport BlogSidebar from './BlogSidebar';\nimport CommentSection from '@/components/Blog/CommentSection';\nimport TLDRSection from './TLDRSection';\nimport ReadingProgress from './ReadingProgress';\nimport SocialShare from './SocialShare';\n\ninterface BlogPostProps {\n  post: BlogPostType;\n}\n\nexport default function BlogPost({ post }: BlogPostProps) {\n  // Extract headings for Table of Contents\n  const tableOfContents = extractHeadings(post.content);\n  \n  // Related posts\n  const relatedPosts = [\n    {\n      slug: 'halloween-nail-ideas-2025',\n      title: '35+ Halloween Nail Ideas 2025',\n      image: '/images/blog/halloweenhero.png'\n    },\n    {\n      slug: 'christmas-nail-designs-2025',\n      title: '18 Christmas Nail Designs 2025',\n      image: '/images/blog/christmas-nail-designs-2025-hero.jpg'\n    }\n  ].filter(p => p.slug !== post.slug);\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8\">\n      {/* Back Button */}\n      <div className=\"mb-4 sm:mb-6\">\n        <Link \n          href=\"/blog\"\n          className=\"text-blue-600 hover:text-blue-800 inline-flex items-center gap-2 text-sm sm:text-base\"\n        >\n          \u2190 Back to Blog\n        </Link>\n      </div>\n\n      {/* Hero Section - Mobile Optimized */}\n      <div className=\"max-w-4xl mx-auto mb-8 sm:mb-12\">\n        {/* Title - Better mobile sizing */}\n        <h1 className=\"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-4 sm:mb-6 text-center px-2\">\n          {post.title}\n        </h1>\n        \n        {/* Meta Info - Stack on mobile */}\n        <div className=\"flex flex-wrap items-center justify-center gap-3 sm:gap-4 text-xs sm:text-sm text-gray-600 mb-4 sm:mb-6 px-4\">\n          <span>By {post.author}</span>\n          <span className=\"hidden sm:inline\">\u2022</span>\n          <span>{new Date(post.date).toLocaleDateString('en-US', { \n            month: 'short', \n            day: 'numeric', \n            year: 'numeric' \n          })}</span>\n          <span className=\"hidden sm:inline\">\u2022</span>\n          <span>{post.readTime} read</span>\n        </div>\n\n{/* Tags - Better mobile wrapping */}\n<div className=\"flex flex-wrap justify-center gap-2 mb-6 sm:mb-8 px-4\">\n  {/* Show category badge first if exists */}\n  {post.category && (\n    <span className=\"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-xs sm:text-sm font-semibold\">\n      {post.category}\n    </span>\n  )}\n  \n  {/* \u2705 FIX: Add Array.isArray check */}\n  {Array.isArray(post.tags) && post.tags.map(tag => (\n    <span \n      key={tag}\n      className=\"bg-pink-100 text-pink-700 px-3 py-1 rounded-full text-xs sm:text-sm font-medium\"\n    >\n      {tag}\n    </span>\n  ))}\n</div>\n        {/* Hero Image - Mobile optimized aspect ratio */}\n{post.image && (\n  <div className=\"relative w-full rounded-xl sm:rounded-2xl overflow-hidden shadow-lg sm:shadow-2xl\">\n    {/* Mobile: Use 16:9 for better fit, Desktop: Use actual 1200:630 ratio */}\n    <div className=\"aspect-[16/9] sm:aspect-[1200/630] relative\">\n      <Image\n        src={post.image}\n        alt={post.imageAlt ?? post.title}\n        fill\n        className=\"object-cover sm:object-contain sm:bg-gray-50\"\n        sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 80vw, 1200px\"\n        priority\n      />\n    </div>\n  </div>\n)}\n      </div>\n\n      {/* Reading Progress */}\n      <ReadingProgress />\n\n      {/* Social Share */}\n      <div className=\"max-w-4xl mx-auto mb-6 sm:mb-8\">\n        <SocialShare title={post.title} slug={post.slug} />\n      </div>\n\n      {/* TL;DR Section */}\n{post.tldr && (\n  <div className=\"max-w-4xl mx-auto mb-8 sm:mb-12\">\n    <TLDRSection\n      summary={post.tldr.summary}\n      readTime={String(post.readTime)}\n      faqs={post.faqItems || post.tldr.faqs || []}  // \u2705 Use faqItems from post, fallback to tldr.faqs\n      creativeLine={post.tldr.creativeLine}\n      keyTakeaways={post.tldr.keyTakeaways}\n    />\n  </div>\n)}\n\n      {/* Two Column Layout - Stack on mobile */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-6 sm:gap-8\">\n        {/* Main Content */}\n        <article className=\"lg:col-span-8\">\n          <div \n            className=\"prose prose-sm sm:prose-base lg:prose-lg max-w-none\n            [&_h2]:text-pink-600 [&_h2]:text-2xl sm:[&_h2]:text-3xl [&_h2]:mt-8 sm:[&_h2]:mt-12 [&_h2]:mb-4 sm:[&_h2]:mb-6 [&_h2]:font-bold [&_h2]:scroll-mt-20 sm:[&_h2]:scroll-mt-24\n            [&_h3]:text-purple-600 [&_h3]:text-lg sm:[&_h3]:text-xl [&_h3]:mt-6 sm:[&_h3]:mt-8 [&_h3]:mb-3 sm:[&_h3]:mb-4 [&_h3]:font-semibold\n            [&_p]:text-gray-700 [&_p]:leading-relaxed [&_p]:mb-4 [&_p]:text-base\n            [&_ul]:my-3 sm:[&_ul]:my-4 [&_li]:mb-2 [&_li]:text-base\n            [&_strong]:text-gray-900 [&_strong]:font-semibold\n            [&_a]:text-blue-600 [&_a]:no-underline hover:[&_a]:text-blue-800\n            [&_img]:rounded-lg [&_img]:shadow-lg [&_img]:my-6 sm:[&_img]:my-8 [&_img]:w-full\n            [&_hr]:my-6 sm:[&_hr]:my-8 [&_hr]:border-pink-200\n            px-2 sm:px-0\"\n            dangerouslySetInnerHTML={{ __html: post.content }}\n          />\n\n          {/* Comment Section */}\n          <CommentSection postSlug={post.slug} postTitle={post.title} />\n        </article>\n\n        {/* Sidebar */}\n        <aside className=\"lg:col-span-4\">\n          <BlogSidebar\n            tableOfContents={tableOfContents}\n            relatedPosts={relatedPosts}\n          />\n        </aside>\n      </div>\n    </div>\n  );\n}\n\n// Extract and clean heading text\nfunction extractHeadings(htmlContent: string): { id: string; title: string }[] {\n  const headings: { id: string; title: string }[] = [];\n  const regex = /<h2[^>]*id=\"([^\"]*)\"[^>]*>(.*?)<\\/h2>/gi;\n  let match;\n  \n  while ((match = regex.exec(htmlContent)) !== null) {\n    const id = match[1];\n    const rawTitle = match[2];\n    // Strip ALL HTML tags and decode entities\n    const title = rawTitle\n      .replace(/<[^>]*>/g, '')\n      .replace(/&amp;/g, '&')\n      .replace(/&lt;/g, '<')\n      .replace(/&gt;/g, '>')\n      .replace(/&quot;/g, '\"')\n      .trim();\n    \n    headings.push({ id, title });\n  }\n  \n  return headings;\n}\n"
  }
]
