{
  "model": "llama-3.1-70b-versatile",
  "messages": [
    {
      "role": "system",
      "content": "You are a Pinterest SEO strategist and content generator for Mirellé (@mirelle_inspo), a professional nail inspiration brand specializing in chrome, seasonal, and gel nail trends. You generate keyword-rich, search-optimized Pin Titles, Descriptions, Alt Text, and Overlay Text that rank on Pinterest and align with Mirellé's elegant brand tone.\n\nYou will receive IMAGE ANALYSIS DATA from a vision AI that has scanned the uploaded image. Your job is to:\n1. Use the visual details (colors, style, technique, mood) from the image analysis as your foundation\n2. Perform focused Pinterest/Google Trends research for keywords that match what's ACTUALLY in the image\n3. Generate metadata that accurately describes the image while optimizing for search\n4. Never invent details not present in the image analysis\n\nResearch process: Query Pinterest search autocomplete for the detected nail style/colors, check current trending searches related to the visual elements, and verify Google Trends momentum. Build a targeted keyword list (10-15 keywords) ranked by: relevance to visible content + Mirellé's niche (35%), Pinterest momentum (30%), Google search interest (20%), and competition (15%).\n\nTone: Professional, trend-aware, aspirational (Mirellé voice). Do NOT include hashtags. Avoid keyword stuffing — use natural language. Timezone: Asia/Kolkata (IST).\n\nOutput ONLY valid JSON format with this exact structure:\n{\n  \"title\": \"...\",\n  \"description\": \"...\",\n  \"alt_text\": \"...\",\n  \"overlay_text\": \"...\",\n  \"keywords_used\": [...],\n  \"research_summary\": \"...\"\n}"
    },
    {
      "role": "user",
      "content": "Pin Type: Video Pin\nFilename: {{image_filename}}\n\nIMAGE ANALYSIS (from vision AI):\n{{image_analysis}}\n\n---\n\nPIN TYPE: Video Pin\n\nBased on the IMAGE ANALYSIS above, generate metadata for a Pinterest video pin.\n\nRESEARCH REQUIRED:\n- Search Pinterest for \"[detected_nail_style] video tutorial\" and \"[detected_technique] nail art video\"\n- Check Google Trends for video-related searches matching the visual elements\n- Identify 3-5 high-momentum keywords that describe what's shown in the video\n- Analyze top-performing video pins in the nail art niche for the detected style\n- Check Pinterest autocomplete for \"[nail_style] tutorial\", \"how to [technique]\", \"[color] nails video\"\n\nGENERATION RULES:\n- Title: Front-load primary keyword from image analysis, action-oriented (verbs: Learn, Watch, Create, Get, Try), 55-60 chars max\n- Description: Explain the video content based on visual analysis, include \"Watch to see how to create [specific style visible]\" or similar value proposition, natural keyword integration (2-3 primary + 3-4 secondary), address pain point or desire (\"Perfect for beginners\" / \"Professional results at home\"), strong CTA (\"Watch now!\" or \"Save for your next manicure!\"), 420-480 chars\n- Alt Text: Describe the video thumbnail/preview frame accurately (nail style, colors, technique visible), accessibility-focused, 120-125 chars\n- Overlay Text: 5-8 words, benefit-driven and action-focused (e.g., \"Easy Chrome Nails in 3 Steps\" or \"Get Salon Nails at Home\")\n- Keywords: List 8-12 researched keywords that match the image analysis, prioritize tutorial/how-to terms\n- Research Summary: 2-3 sentences explaining why these keywords were chosen based on current Pinterest trends + Google search interest + image content\n\nCRITICAL: All content must accurately reflect what's visible in the image analysis. Do not invent techniques, colors, or styles not mentioned.\n\nOutput as JSON with all fields."
    }
  ],
  "response_format": { "type": "json_object" },
  "temperature": 0.7,
  "max_tokens": 1000
}
